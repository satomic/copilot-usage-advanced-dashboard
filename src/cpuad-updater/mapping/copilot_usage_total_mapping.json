{
    "mappings" : {
      "properties" : {
        "day" : {
          "type" : "date"
        },
        "last_updated_at" : {
          "type" : "text",
          "fields" : {
            "keyword" : {
              "type" : "keyword",
              "ignore_above" : 256
            }
          }
        },
        "organization_slug" : {
          "type" : "keyword"
        },
        "team_slug" : {
          "type" : "keyword"
        },
        "position_in_tree" : {
          "type" : "keyword"
        },
        "total_acceptances_count" : {
          "type" : "long"
        },
        "total_active_chat_users" : {
          "type" : "long"
        },
        "total_active_users" : {
          "type" : "long"
        },
        "total_chat_copy_events" : {
          "type" : "long"
        },
        "total_chat_insertion_events" : {
          "type" : "long"
        },
        "total_chat_acceptances" : {
          "type" : "long"
        },
        "total_chat_turns" : {
          "type" : "long"
        },
        "total_lines_accepted" : {
          "type" : "long"
        },
        "total_lines_suggested" : {
          "type" : "long"
        },
        "total_suggestions_count" : {
          "type" : "long"
        },
        "unique_hash" : {
          "type" : "keyword"
        },
        "dotcom_chat_total_engaged_users": {
          "type": "long"
        },
        "dotcom_chat_total_chats": {
          "type": "long"
        },
        "dotcom_chat_breakdown": {
          "type": "nested",
          "properties": {
            "model": { "type": "keyword" },
            "is_custom_model": { "type": "boolean" },
            "custom_model_training_date": { "type": "date", "format": "yyyy-MM-dd||strict_date_optional_time||epoch_millis" },
            "total_engaged_users": { "type": "long" },
            "total_chats": { "type": "long" }
          }
        },
        "dotcom_pr_total_engaged_users": {
          "type": "long"
        },
        "dotcom_pr_total_summaries": {
          "type": "long"
        },
        "dotcom_pr_breakdown": {
          "type": "nested",
          "properties": {
            "repository": { "type": "keyword" },
            "repo_engaged_users": { "type": "long" },
            "model": { "type": "keyword" },
            "is_custom_model": { "type": "boolean" },
            "custom_model_training_date": { "type": "date", "format": "yyyy-MM-dd||strict_date_optional_time||epoch_millis" },
            "total_pr_summaries_created": { "type": "long" },
            "model_engaged_users": { "type": "long" }
          }
        }
      }
    },
    "settings": {
      "index": {
        "number_of_shards": 1,
        "number_of_replicas": 0
      }
    }
}
